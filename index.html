<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>death store - Roleta</title>

<style>
body{
  background: radial-gradient(circle at top,#2a003d,#0b0014);
  color:#fff;
  font-family:Arial, sans-serif;
  margin:0;
  min-height:100vh;
  display:flex;
  flex-direction:column;
  align-items:center;
  text-align:center;
}

h1{
  color:#b84cff;
  text-shadow:0 0 20px #7a00ff;
  margin:25px 0 10px;
}

input{
  padding:12px;
  border-radius:10px;
  border:none;
  width:280px;
  text-align:center;
}

button{
  margin-top:12px;
  padding:14px 36px;
  border:none;
  border-radius:12px;
  background:linear-gradient(135deg,#7a00ff,#b84cff);
  color:#fff;
  font-size:18px;
  cursor:pointer;
}

#girar{display:none}

.roleta-wrap{
  margin-top:25px;
  width:320px;
  height:320px;
  display:none;
  position:relative;
}

.ponteiro{
  position:absolute;
  top:-12px;
  left:50%;
  transform:translateX(-50%);
  border-left:16px solid transparent;
  border-right:16px solid transparent;
  border-bottom:28px solid gold;
}

.roleta{
  width:100%;
  height:100%;
  border-radius:50%;
  box-shadow:0 0 40px #9d4cff;
  overflow:hidden;
}

canvas{width:100%;height:100%}

#resultado{
  margin-top:15px;
  font-size:22px;
  font-weight:bold;
}
</style>
</head>

<body>

<h1>ğŸ€ death store ğŸ€</h1>

<p>Digite sua key vÃ¡lida</p>
<input id="keyInput" placeholder="Digite sua key">
<button onclick="verificarKey()">Verificar Key</button>
<button id="girar" onclick="girar()">ğŸ¡ Girar Roleta</button>

<div class="roleta-wrap" id="roletaWrap">
  <div class="ponteiro"></div>
  <div class="roleta" id="roleta">
    <canvas id="canvas" width="320" height="320"></canvas>
  </div>
</div>

<div id="resultado"></div>

<script>
const premios = [
 "50.000.000 ğŸ’","25.000.000 ğŸ’","15.000.000 ğŸ’","10 KEY",
 "2.000.000 ğŸ’","1.100.000 ğŸ’","700.000 ğŸ’"
];

const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");
const roleta = document.getElementById("roleta");
const girarBtn = document.getElementById("girar");
const wrap = document.getElementById("roletaWrap");

let anguloAtual = 0;
let girando = false;

function verificarKey(){
  girarBtn.style.display="inline-block";
  wrap.style.display="block";
}

function desenhar(){
  const n = premios.length;
  const ang = Math.PI * 2 / n;

  for(let i=0;i<n;i++){
    ctx.beginPath();
    ctx.moveTo(160,160);
    ctx.arc(160,160,150,i*ang,(i+1)*ang);
    ctx.fillStyle = i%2 ? "#3a0066" : "#7a00ff";
    ctx.fill();

    ctx.save();
    ctx.translate(160,160);
    ctx.rotate(i*ang + ang/2);
    ctx.fillStyle="#fff";
    ctx.font="bold 13px Arial";
    ctx.fillText(premios[i],90,5);
    ctx.restore();
  }
}
desenhar();

function sortearIndice(){
  let r = Math.random() * 100;

  if (r < 50) return premios.indexOf("2.000.000 ğŸ’");
  if (r < 85) return premios.indexOf("1.100.000 ğŸ’");
  return premios.indexOf("700.000 ğŸ’");
}

function girar(){
  if(girando) return;
  girando = true;

  const index = sortearIndice();
  const slice = 360 / premios.length;

  const destino = 360 * 6 + (360 - (index * slice + slice / 2)) - 90;

  anguloAtual = destino;

  roleta.style.transition = "transform 4s cubic-bezier(.12,.78,.12,1)";
  roleta.style.transform = `rotate(${anguloAtual}deg)`;

  setTimeout(()=>{
    document.getElementById("resultado").innerText =
      "ğŸ‰ VocÃª ganhou " + premios[index];
    girando = false;
  },4000);
}
</script>

</body>
</html>
